{% extends 'corpus/base.html' %}

{% load static sekizai_tags  compress  sass_tags i18n %}


{% block content %}
{% addtoblock "css" %}
<style type="text/x-scss">
@import 'corpora/css/colors';
@import 'corpora/css/text';
@import 'corpus/css/record';
@import 'corpus/scss/actionButtons';
@import 'corpus/scss/sentences';

@import 'bower_components/bootstrap/scss/functions';
@import 'bower_components/bootstrap/scss/mixins';
@import 'bower_components/bootstrap/scss/variables';
div.content{
  padding: 60px 0px 60px 0px;
}
.container.record{
  min-height: 500px;  
}

.visualizer{
  width: 100%;
  height: 80px;
  border-radius: 4px;
  background-color: white;
  border:0px solid $brand_primary;
  margin-top: 30px;
}
.sentence{
  font-size: 2em !important;
}
a.btn{
  display: inline-block;
}


.circle-button-container{
    padding-bottom: 30px;

  @include media-breakpoint-down(lg){
/*    padding-top: 15px;
*/  }

}
</style>
{% endaddtoblock %}

{% include 'people/profile_header.html' %}

<div class="container record">

  <div class="row align-items-center sentence-block" id="recorder-container">

    <div class="col-12" style="display: none;">
      <div id="status-message" class="error-message" style="display: none;"><h2></h2></div>
    </div>

    <div class="col-12 col-md-7 col-lg-8">
      <div class="row">
        <div class="col-12 sentence">
         
        </div>
        <div class="col-12">
          <canvas class="visualizer" style=""></canvas>
        </div>
      </div>
    </div>

    <div class="col-12 col-md-5 col-lg-4 actions"> 

      <div class="row ">

        <div class="col-12">
          <div class="circle-button-container">
            <div class="circle background-circle">
                <a href="javascript:void(0)" id="record-button">
                    <div class="circle foreground-circle unclicked-circle record">
                        <div class="circle-text record">REC</div>
                        <div class="stop-square"></div>
                    </div>
                </a>

                <a href="javascript:void(0)" id="play-button">
                    <div class="circle foreground-circle unclicked-circle play">
                        <div class="play-triangle"></div>
                    </div>
                </a>
            </div>
          </div>
        </div>

        <div class="col-12 " style="text-align: center;" >
          <a href="javascript:void(0)" id="redo" class=" disabled redo">
            <i class="fa fa-undo fw"></i> {% trans "Redo" %}
          </a>
          <a href="javascript:void(0)" id="save" class=" disabled save">
            <i class="fa fa-save fw"></i> {% trans "Save" %}
          </a>
          <a href="javascript:void(0)" id="next" class=" next">
            <i class="fa fa-step-forward fw"></i> {% trans "Skip" %}
          </a>
        </div>

      </div>

    </div>
  </div>


</div>



{% comment %}
<small> Does this recording sound accurate? If so, press Next. If not, go back and fix it with Back.</small>
<a href="{% url 'corpus:submit_recording' %}">
    <div class="button submit-audio">
        Submit
    </div>
</a>
{% endcomment %}
    
    
<audio id="play-audio" style="display: none; width: 0px; height: 0px"></audio>

{% addtoblock "js" %}<script type="text/javascript" src="{% static 'corpus/js/ajax.post.js' %}"></script>{% endaddtoblock %}
{% addtoblock "js" %}<script type="text/javascript" src="{% static 'bower_components/js-cookie/src/js.cookie.js' %}"></script>{% endaddtoblock %}
{% addtoblock "js" %}<script type="text/javascript" src="{% static 'bower_components/opus-recorderjs/dist/recorder.min.js' %}"></script>{% endaddtoblock %}
{% addtoblock "js" %}<script type="text/javascript" src="{% static 'corpus/js/record.js' %}"></script>{% endaddtoblock %}
{% addtoblock "js" %}<script type="text/javascript" src="{% static 'corpus/js/sentence.js' %}"></script>{% endaddtoblock %}

{% addtoblock "js" %}
<script type="text/javascript">
  var person_pk = "{{person.pk}}";
  var sentence_pk = "{{sentence.pk}}";

  var sentences = new Sentences(
    '{{person.id}}',
    '{{content_type}}',
    '?recording=True',
    {{user.can_approve|lower}})
  sentences.next()

</script>
{% endaddtoblock %}


{% endblock %}