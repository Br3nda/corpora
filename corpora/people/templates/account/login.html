{% extends "account/base.html" %}
{% load i18n account socialaccount static sekizai_tags compress  %}


{% block title %}{% trans "Sign In" %}{% endblock %}

{% block account_content %}

  <h1>{% trans 'Sign In' %}</h1>

  {% get_providers as socialaccount_providers %}

  <form class="login" method="POST" action="{% url 'account_login' %}" style="text-align: center;" id="login_form">
    {% csrf_token %}

    {{form.as_p}}

    {% if redirect_field_value %}
      <input type="hidden" name="{{ redirect_field_name }}" value="{% url 'people:profile' %}" />
    {% endif %}

    <a class="secondaryAction" href="{% url 'account_reset_password' %}">
      {% trans "Forgot Password?" %}<br>
    </a>
    
    <a class="btn btn-default btn-lg" href="javascript:{}" onclick="document.getElementById('login_form').submit();">
        {% trans "Sign In" %}
    </a>

  </form>

  {% addtoblock 'js-end' %}
  <script type="text/javascript">

    $('input').keypress(function (e) {
      if (e.which == 13) {
        $('#login_form').submit();
        return false;    //<---- Add this line
      }
    });

  </script>
  {% endaddtoblock %}

  {% if socialaccount_providers %}
  <p class="p-text-block">{% blocktrans %}You can also sign in with: {% endblocktrans %}</p>

  <div class="socialaccount_ballot">

    <ul class="socialaccount_providers">
      {% include "socialaccount/snippets/provider_list.html" with process="login" %}
    </ul>

  </div>

  <p class="p-text-block">{% blocktrans with site.name as site_name %}Don't have an account?<br><a href="{{ signup_url }}">Sign Up</a>
  {% endblocktrans %}</p>

  {% include "socialaccount/snippets/login_extra.html" %}

  {% else %}
  <p>{% blocktrans %}If you have not created an account yet, then please
  <a href="{{ signup_url }}">sign up</a> first.{% endblocktrans %}</p>
  {% endif %}

{% endblock account_content %}